/* Color Palette & Base Variables */
$gray-50: #f9fafb;
$gray-900: #111827;
$gray-600: #4b5563;
$blue-600: #2563eb;
$blue-700: #1d4ed8;
$blue-50: #eff6ff;
$purple-50: #f5f3ff;
$icon-colors: (
  blue: #4285f4,
  green: #34a853,
  yellow: #fbbc04,
  red: #ea4335,
  gray: #9aa0a6
);

/* CSS Custom Properties (set by JS) */
:root {
  --mouse-x: 0;
  --mouse-y: 0;
  --scroll-progress: 0;
  --time: 0;
}

/* Global & Layout Styles */
.chrome-extensions-showcase {
  min-height: 100vh;
  background-color: $gray-50;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1rem;
}

.showcase-container {
  max-width: 84rem;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 4rem;
}

/* Content on the Left */
.content-left {
  flex: 1;
  max-width: 32rem;
  
  h1 {
    font-size: 3.75rem;
    font-weight: 300;
    line-height: 1.25;
    color: $gray-900;
  }

  p {
    font-size: 1.125rem;
    line-height: 1.625;
    color: $gray-600;
    margin-top: 1.5rem;
  }

  .explore-button {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    background-color: $blue-600;
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 0.375rem;
    font-weight: 500;
    transition: all 0.2s ease-in-out;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    margin-top: 2rem;
    border: none;
    cursor: pointer;

    &:hover {
      background-color: $blue-700;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
    
    .arrow-icon {
      width: 1rem;
      height: 1rem;
      transition: transform 0.2s ease-in-out;
    }

    &:hover .arrow-icon {
      transform: translateX(0.25rem);
    }
  }
}

/* Visuals on the Right */
.visual-right {
  flex: 1;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 37.5rem;
}

/* Browser Window */
.browser-window {
  position: relative;
  z-index: 10;
  background-color: white;
  border-radius: 1.5rem;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  transition: transform 0.3s ease-in-out;
  width: 30rem;
  height: 20rem;
  overflow: hidden;

  transform: 
    perspective(1000px) 
    rotateY(calc(var(--mouse-x) * 0.3deg)) 
    rotateX(calc(var(--mouse-y) * -0.2deg)) 
    translateZ(10px);
}

.browser-header {
  background-color: #f3f4f6;
  padding: 0.75rem 1rem;
  display: flex;
  align-items: center;
  gap: 0.75rem;
  border-bottom: 1px solid #e5e7eb;

  .window-controls {
    display: flex;
    gap: 0.5rem;
    .control-dot {
      width: 0.75rem;
      height: 0.75rem;
      border-radius: 9999px;
    }
    .bg-red-400 { background-color: #f87171; }
    .bg-yellow-400 { background-color: #facc15; }
    .bg-green-400 { background-color: #4ade80; }
  }
  
  .address-bar {
    flex: 1;
    margin: 0 1.5rem;
    .address-bar-content {
      background-color: white;
      border: 1px solid #d1d5db;
      border-radius: 9999px;
      padding: 0.375rem 1rem;
      font-size: 0.875rem;
      color: #6b7280;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      .search-icon {
        width: 1rem;
        height: 1rem;
        color: #9ca3af;
      }
    }
  }
}

.browser-content {
  height: 100%;
  background: linear-gradient(135deg, $blue-50, $purple-50);
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;

  .content-inner {
    h3 {
      font-size: 2.25rem;
      font-weight: 700;
      color: #1f2937;
    }
    p {
      font-size: 1.125rem;
      color: #4b5563;
      margin-top: 0.5rem;
    }
    .grid-icons {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      margin-top: 1.5rem;
      .grid-item {
        width: 4rem;
        height: 4rem;
        background-color: white;
        border-radius: 0.5rem;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        display: flex;
        align-items: center;
        justify-content: center;
        .placeholder-icon {
          width: 2rem;
          height: 2rem;
          background-color: #d1d5db;
          border-radius: 0.25rem;
        }
      }
    }
  }
}

/* Floating Icons */
.floating-icon {
  position: absolute;
  z-index: 15;
  transition: all 0.3s ease-in-out;
  transform: translate(-50%, -50%); /* Base transform to center */

  &:hover {
    transform: translate(-50%, -50%) scale(1.1);
  }

  /* Dynamically calculated position and animation */
  $float-x: 'calc(var(--base-x) + (var(--edge-x) - var(--base-x)) * var(--scroll-progress) + sin(var(--time) * var(--speed-x)) * var(--amp-x) * (1 - var(--scroll-progress) * 0.8) + var(--mouse-x) * (var(--base-x) > 0 ? 1.2 : -1.2) * (1 - var(--scroll-progress)))';
  $float-y: 'calc(var(--base-y) + (var(--edge-y) - var(--base-y)) * var(--scroll-progress) + cos(var(--time) * var(--speed-y)) * var(--amp-y) * (1 - var(--scroll-progress) * 0.8) + var(--mouse-y) * (var(--base-y) > 0 ? 1.0 : -1.0) * (1 - var(--scroll-progress)))';
  
  $transform-3d: 'translate(-50%, -50%) translateZ(calc(sin(var(--time) * var(--speed-x) + var(--icon-id)) * 5px + 20px)) scale(calc(1 - var(--scroll-progress) * 0.3))';

  left: calc(50% + #{$float-x});
  top: calc(50% + #{$float-y});
  // The 'unquote()' function has been removed.
  transform: #{$transform-3d}; 
  opacity: calc(1 - var(--scroll-progress) * 0.4);

  .icon-container {
    width: 5rem;
    height: 5rem;
    border-radius: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    backdrop-filter: blur(4px);
    transition: all 0.3s ease-in-out;
    background-color: color-mix(in srgb, var(--icon-color) 12%, transparent);
    border: 1px solid color-mix(in srgb, var(--icon-color) 24%, transparent);

    .icon-image {
      width: 3rem;
      height: 3rem;
      object-fit: contain;
    }
  }

  .icon-glow {
    position: absolute;
    inset: 0;
    border-radius: 1rem;
    filter: blur(2rem);
    background-color: var(--icon-color);
    transform: scale(1.1);
    opacity: calc((1 - var(--scroll-progress) * 0.6) * 0.2);
  }
}

/* Background Decorations */
.background-decorations {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;

  div {
    position: absolute;
    border-radius: 9999px;
    filter: blur(2rem);
    opacity: 0.2;
    animation: pulse 4s infinite ease-in-out;
  }
  
  .orb-1 { top: -2.5rem; left: -2.5rem; width: 10rem; height: 10rem; background-color: #93c5fd; }
  .orb-2 { bottom: -5rem; right: -2.5rem; width: 8rem; height: 8rem; background-color: #c4b5fd; animation-delay: 1s; }
  .orb-3 { top: 33.333%; left: -5rem; width: 7rem; height: 7rem; background-color: #a7f3d0; animation-delay: 2s; }
  .orb-4 { bottom: 25%; right: -4rem; width: 6rem; height: 6rem; background-color: #fde68a; animation-delay: 3s; }
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}